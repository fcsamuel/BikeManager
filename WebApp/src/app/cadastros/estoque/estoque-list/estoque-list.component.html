<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-scale-multiple">
    <p style="font-size: 20px; color: white">Carregando...</p>
</ngx-spinner>

<div>
    <app-menu></app-menu>
</div>

<div class="row">
    <div class="col s12 m4 l4">
        <mat-form-field>
            <mat-select placeholder="Produto" name="produto" [(ngModel)]="produto.cdProduto">
                <mat-option *ngFor="let element of this.produtoList" [value]="element.cdProduto">
                    {{element.dsProduto + " - " + element.dsModelo}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div class="col footer-btn">
        <div class="button-col col s12">
            <button mat-raised-button color="green" (click)="this.getEstoque()">Filtrar</button>
        </div>
    </div>
</div>

<div class="row">
    <div class="col s12 m12 l12">
        <mat-table #table [dataSource]="this.dataSource" matSort class="table-striped">
            <ng-container matColumnDef="dsProduto">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Descrição</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.produto.dsProduto}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="dtRegistro">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Data Lançamento</mat-header-cell>
                <mat-cell *matCellDef="let element">
                    {{datePipe.transform(element.dtRegistro, 'dd/MM/yyyy')}}
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="tpLancamento">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Origem</mat-header-cell>
                <mat-cell *matCellDef="let element">
                    {{(element.tpLancamento == 'NE' ? 'Nota de Entrada' : 'Ordem de Serviço')}}
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="qtProduto">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Entrada/Saída</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.tpLancamento == 'NE' ? '+' + element.qtProduto : '-' + element.qtProduto}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="qtAtual">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Qt. Atualizada</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.qtAtual}} </mat-cell>
            </ng-container>
            <mat-header-row *matHeaderRowDef="this.displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: this.displayedColumns;"></mat-row>
        </mat-table>
        <mat-paginator #paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </div>
</div>